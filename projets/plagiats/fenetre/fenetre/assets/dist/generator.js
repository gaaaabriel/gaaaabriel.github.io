function generateDiary(t){var e="diary";if(-1===jQuery.inArray(e,windowsList)){var n=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","line"),s=document.createElementNS("http://www.w3.org/2000/svg","line");$(n).attr("xmlns","http://www.w3.org/1999/xlink"),n.setAttribute("viewBox","0 0 20 20"),$(a).attr({x1:0,y1:0,x2:20,y2:20}),$(s).attr({x1:0,y1:20,x2:20,y2:0}),$(n).append(a),$(n).append(s),$.getJSON("database.json",(function(t){for(var e=[],a=0;a<Object.keys(t.eventList).length;a++){var s=new Date(t.eventList[a].date[0],t.eventList[a].date[1],t.eventList[a].date[2],0,0,0,0);e.push($("<div/>",{class:"window-diary-row"}).append($("<div/>",{class:"diary--button button--new",text:"NEW",id:function(){if(recentDate>s)return"date--old"}()})).append($("<div/>",{class:"diary--button",text:t.eventList[a].category})).append($("<h6/>",{class:"diary-date",text:s.toLocaleDateString("en-US",dateOptions)})).append($("<h4/>").append($("<a/>",{href:""===t.eventList[a].link?null:t.eventList[a].link,text:t.eventList[a].title}).attr("target","_blank"))).append($("<p/>",{text:t.eventList[a].description})))}$(".container").append($("<div/>",{class:"window diary",id:"diary"}).append($("<div/>",{class:"window-handle"}).append($("<h4/>",{text:"Diary"})).append($("<div>",{class:"handle--close"}).append(n))).append($("<div/>",{class:"window-content"}).append(e)))})).done((function(){windowsList.push(e),reorderZ(t),startDraggable("."+e),randomPosXY(e),$("."+e).on("mousedown touchstart",(function(t){zIndexTop(e,t)})),$(".diary .handle--close").on("click",(function(t){$("."+e).css("display","none"),removeWindow("el",t)}))}))}else zIndexTop(e,t)}function generateTypefaces(t){var e="typefaces",n=[],a=document.createElement("style"),s=document.getElementsByTagName("head")[0],i="",o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","line"),l=document.createElementNS("http://www.w3.org/2000/svg","line");$(o).attr("xmlns","http://www.w3.org/1999/xlink"),o.setAttribute("viewBox","0 0 20 20"),$(r).attr({x1:0,y1:10,x2:20,y2:10}),$(l).attr({x1:10,y1:0,x2:10,y2:20}).addClass("minimize--vertical"),$(o).append(r),$(o).append(l),a.setAttribute("type","text/css"),s.appendChild(a),$.getJSON("database.json",(function(t){for(var e=0;e<Object.keys(t.fontList).length;e++){for(var a,s=[],r=new Date(t.fontList[e].date[0],t.fontList[e].date[1],t.fontList[e].date[2],0,0,0,0),l=new Date(t.fontList[e].updated[0],t.fontList[e].updated[1],t.fontList[e].updated[2],0,0,0,0),d=Object.keys(t.fontList[e].styles).length,p=!1,c=0;c<Object.keys(t.fontList[e].styles).length;c++)i+="@font-face{font-family:'"+t.fontList[e].id+"';src:url('assets/fonts/"+t.fontList[e].nome.replace(/\s/g,"")+t.fontList[e].styles[c].nomestile.replace(/\s/g,"")+".woff2')format('woff2'),url('assets/fonts/"+t.fontList[e].nome.replace(/\s/g,"")+t.fontList[e].styles[c].nomestile.replace(/\s/g,"")+".woff')format('woff');font-weight:"+t.fontList[e].styles[c].peso+";font-style:"+t.fontList[e].styles[c].stile+";font-stretch:"+t.fontList[e].styles[c].larghezza+";}",s.push($("<span/>",{class:t.fontList[e].styles[c].primary?(a=c,"primary"):null}).append($("<a/>",{text:d<3?t.fontList[e].styles[c].nomestile:d>9?void 0:t.fontList[e].styles[c].nomestilecorto}).attr({"data-w":t.fontList[e].styles[c].peso,"data-s":t.fontList[e].styles[c].stile})));0!=Object.keys(t.fontList[e].variable).length&&(i+="@font-face{font-family:'"+t.fontList[e].id+"Variable';src:url('assets/fonts/"+t.fontList[e].nome.replace(/\s/g,"")+"Variable.woff2')format('woff2'),url('assets/fonts/"+t.fontList[e].nome.replace(/\s/g,"")+"Variable.ttf')format('truetype');}",p=!0),n.push($("<div>",{class:"window-typefaces-row"}).attr({"data-t":t.fontList[e].id,"data-i":e}).append($("<h2/>",{style:"font-family:"+t.fontList[e].id+"; font-weight:"+t.fontList[e].styles[a].peso+"; font-style:"+t.fontList[e].styles[a].stile+"; font-stretch:"+t.fontList[e].styles[a].larghezza}).append($("<span/>",{text:t.fontList[e].pangram,style:"font-size:"+t.fontList[e].scale+"em"}))).append($("<p/>",{text:t.fontList[e].nome+" "+t.fontList[e].designer})).append($("<p/>",{class:"window-typefaces-styles"}).append(s).append(function(){if(d>9)return'<span class="primary"><a>'+d+" Styles</a></span>"}())).append(function(){if(recentDate<r)return $("<div/>",{class:"button typeface--new",text:"NEW"})}()).append(function(){if(recentDate<l)return $("<div/>",{class:"button typeface--updated",text:"UPDATED"})}()).append(function(){if(p)return $("<div/>",{class:"button typeface--variable",text:"VARIABLE"})}()).append(function(){if("apfelGrotezk"===t.fontList[e].id)return $("<a/>",{href:"https://www.sprintmilano.org/"}).attr("target","_blank").append($("<div/>",{class:"button typeface--sprint",id:"clt_x_sprint",text:"CLT × SPRINT"}))}()))}$(".container").append($("<div/>",{class:"window typefaces",id:"typefaces"}).append($("<div/>",{class:"window-handle"}).append($("<h4/>",{text:"Typefaces"})).append($("<div>",{class:"handle--close is-open"}).append(o))).append($("<div/>",{class:"window-content"}).append(n)))})).done((function(){if(a.styleSheet)a.styleSheet.cssText=i;else{var n=document.createTextNode(i);a.appendChild(n)}startDraggable("."+e),windowsList.push(e),reorderZ(t),randomPosXY(e),$("."+e).find(".button").each((function(t){$(this).css({left:81*Math.random()+10+"%",top:41*Math.random()+20+"%",transform:"rotate("+(91*Math.random()-45)+"deg)"})})),$("."+e+" .handle--close").on("click",(function(t){$(this).toggleClass("is-open"),$("."+e).toggleClass("is-close")})),$("."+e).on("mousedown touchstart",(function(t){zIndexTop(e,t)})),$(".window-typefaces-row").on("click",(function(t){"clt_x_sprint"!==event.target.id&&generateFamily($(this).attr("data-t"),$(this).attr("data-i"),t)}))}))}function generateFamily(t,e,n){var a=[],s=[];if(-1===jQuery.inArray(t,windowsList)){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","line"),r=document.createElementNS("http://www.w3.org/2000/svg","line"),l=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=document.createElementNS("http://www.w3.org/2000/svg","circle"),p=document.createElementNS("http://www.w3.org/2000/svg","circle");$(i).attr("xmlns","http://www.w3.org/1999/xlink"),i.setAttribute("viewBox","0 0 20 20"),$(o).attr({x1:0,y1:0,x2:20,y2:20}),$(r).attr({x1:0,y1:20,x2:20,y2:0}),$(i).append(o),$(i).append(r),$(l).attr("xmlns","http://www.w3.org/1999/xlink"),l.setAttribute("viewBox","0 0 20 20"),$(d).attr({cx:10,cy:10,r:9,class:"circle--outer"}),$(p).attr({cx:10,cy:10,r:6,class:"circle--inner"}),$(l).append(d),$(l).append(p),$.getJSON("database.json",(function(t){var n,o="",r="",d=Object.keys(t.fontList[e].variable).length;if(0!=d){for(var p=0;p<d;p++)o+=t.fontList[e].variable[p].name+"-"+t.fontList[e].variable[p].value+"-"+t.fontList[e].variable[p].min+"-"+t.fontList[e].variable[p].max+"-"+t.fontList[e].variable[p].def+(p!=d-1?"~":""),r+='"'+t.fontList[e].variable[p].value+'" '+t.fontList[e].variable[p].def+(p!=d-1?", ":""),s.push('<div data-v="'+t.fontList[e].variable[p].value+'"><a>'+t.fontList[e].variable[p].name+'</a><input type="range" min="'+t.fontList[e].variable[p].min+'" max="'+t.fontList[e].variable[p].max+'" value="'+t.fontList[e].variable[p].min+'" data-d="'+t.fontList[e].variable[p].def+'"/></div>');a.push($("<option>",{text:"Variable",value:o}).prop("selected",!0))}for(p=0;p<Object.keys(t.fontList[e].styles).length;p++)a.push($("<option>",{text:t.fontList[e].styles[p].nomestile,value:t.fontList[e].styles[p].peso+"~"+t.fontList[e].styles[p].stile+"~"+t.fontList[e].styles[p].larghezza}).prop("selected",!(!t.fontList[e].styles[p].primary||0!=d||(n=p,0))));$(".container").append($("<div/>",{class:"window family "+t.fontList[e].id,id:t.fontList[e].id}).append($("<div/>",{class:"window-handle"}).append($("<h4/>",{text:t.fontList[e].nome+" "}).append($("<select/>").append(a))).append($("<div>",{class:"handle--close"}).append(i))).append($("<div/>",{class:"window-content"}).append($("<div/>",{class:"textarea",style:0!=d?"font-family:"+t.fontList[e].id+"Variable; font-variation-settings:"+r+"; font-size: 3em":"font-family:"+t.fontList[e].id+"; font-weight:"+t.fontList[e].styles[n].peso+"; font-style:"+t.fontList[e].styles[n].stile+"; font-stretch:"+t.fontList[e].styles[n].larghezza+"; font-size: 3em",text:t.fontList[e].description}).attr({contenteditable:"true",spellcheck:"false","data-s":t.fontList[e].scale,"data-f":3})).append($("<div/>",{class:"family-controls"}).append($("<div/>").append($("<div/>",{id:"color"}).append(l)).append($("<div/>",{class:"controls--button",id:"size"}).append($("<span/>",{class:"size--smaller",style:"margin-right:0.5rem",text:"−"})).append($("<p/>",{text:"48 PT"})).append($("<span/>",{class:"size--larger",style:"margin-left:0.5rem",text:"+"})))).append($("<div/>").append($("<div/>",{class:"controls--button",id:"download"}).append($("<a/>",{href:"/assets/download/"+t.fontList[e].id+".zip",text:"DOWNLOAD"}))))).append(function(){if(0!=d)return $("<div/>",{class:"family-controls variable"}).append(s)}())))})).done((function(){startDraggable("."+t),windowsList.push(t),reorderZ(n),randomPosXY(t),$("."+t).on("mousedown touchstart",(function(e){zIndexTop(t,e)})),$("."+t+" .handle--close").on("click",(function(t){$(this).closest(".window").remove(),removeWindow("el",t)})),$("."+t+" select").on("change",(function(n){if("Variable"===$(this).find("option:selected").text())return $("."+t+" .textarea").css({"font-family":t+"Variable","font-variation-settings":function(){for(var t="",n=0;n<a.length;++n)t+='"'+a[n]+'" '+e[n]+(n!=a.length-1?", ":"");return t}()}),void $("."+t+" .variable").css("display","flex");var s=$(this).val().split("~");$("."+t+" .variable").css("display","none"),$("."+t+" .textarea").css({"font-family":t,"font-weight":s[0],"font-style":s[1],"font-stretch":s[2]})})),$("."+t+" #color").on("click",(function(){$("."+t).toggleClass("inverted")})),$("."+t+" span").on("click",(function(){var e=parseFloat($("."+t+" .textarea").attr("data-f")),n=parseFloat($("."+t+" .textarea").attr("data-s"));$("."+t+" span").each((function(){$(this).removeClass("disabled")})),$(this).hasClass("size--smaller")?12===e?e=5:e>2?e-=1:e>.5&&(e-=.5):$(this).hasClass("size--larger")&&(e<2?e+=.5:e<5?e+=1:e<6&&"sneakyTimes"===t&&(e=12)),(.5===e||5===e&&"sneakyTimes"!==t)&&$(this).addClass("disabled"),(.5===e||12===e&&"sneakyTimes"===t)&&$(this).addClass("disabled"),$("."+t+" .textarea").animate({"font-size":e*n+"em"},200),$("."+t+" .textarea").attr("data-f",e),$("."+t+" #size p").text(16*e+" PT")}));var e=[],a=[];$("."+t+" .variable").find("input").each((function(t){a[t]=$(this).parent("div").attr("data-v"),e[t]=$(this).attr("data-d"),$(this).val(e[t])})),$("."+t+" .variable").on("input","input",(function(n){e[$(this).parent().index()]=$(this).val(),$("."+t+" .textarea").css("font-variation-settings",function(){for(var t="",n=0;n<e.length;++n)t+='"'+a[n]+'" '+e[n]+(n!=e.length-1?", ":"");return t}())})),document.querySelector("."+t+" .textarea").addEventListener("paste",(function(t){if(t.preventDefault(),t.clipboardData&&t.clipboardData.getData){var e=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e)}else if(window.clipboardData&&window.clipboardData.getData){e=window.clipboardData.getData("Text");insertTextAtCursor(e)}}))}))}else zIndexTop(t,n)}function generateAbout(t){startDraggable(".about"),windowsList.push("about"),reorderZ(t),randomPosXY("about"),$(".about").css("display","inline-block"),$(".about").on("mousedown touchstart",(function(t){zIndexTop("about",t)})),$(".about .handle--close").on("click",(function(t){$(".about").css("display","none"),removeWindow("about",t)}))}function generateDonate(t){startDraggable(".donate"),windowsList.push("donate"),reorderZ(t),randomPosXY("donate"),$(".donate").css("display","inline-block"),$(".donate").on("mousedown touchstart",(function(t){zIndexTop("donate",t)})),$(".donate .handle--close").on("click",(function(t){$(".donate").css("display","none"),removeWindow("donate",t)}))}function generateNewsletter(t){startDraggable(".newsletter"),windowsList.push("newsletter"),reorderZ(t),randomPosXY("newsletter"),$(".newsletter").css("display","inline-block"),$(".newsletter").on("mousedown touchstart",(function(t){zIndexTop("newsletter",t)})),$(".newsletter .handle--close").on("click",(function(t){$(".newsletter").css("display","none"),removeWindow("newsletter",t)})),$(".newsletter .legal-toggle").on("click",(function(t){$(".newsletter .legal").toggleClass("active")}))}